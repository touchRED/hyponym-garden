{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.min.js","sourcesContent":["var seed = \"building\";\n\nvar gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\nvar wordnikKey = \"47dccf8be44d27e33e000095fc00800d910779b868e19b1dc\";\n// var wordnik = \"http://api.wordnik.com:80/v4/word.json/\" + seed + \"/relatedWords?useCanonical=false&relationshipTypes=synonym&limitPerRelationshipType=10&api_key=\" + wordnikKey;\n\nvar words = [];\nvar imgs = [];\nvar imgIndex = 0;\n\nvar currentImgElement;\nvar currentP;\n\nvar nextImgs;\nvar nextWord;\n\nfunction setup(){\n  noCanvas();\n  if(window.location.hash.length > 1){\n    seed = window.location.hash.slice(1);\n    gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n  }\n  loadJSON(gifUrl, function(giphy){\n    currentImgElement = createImg(giphy.data[0].images.downsized.url);\n    currentP = createInput(seed);\n    console.log(currentP);\n    currentP.changed(function(){\n      currentP.elt.blur();\n      seed = currentP.elt.value;\n      console.log(\"seed:\", seed);\n      gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n      imgs = [];\n      words = [];\n      imgIndex = 0;\n      loadJSON(gifUrl, function(giphy){\n        if(giphy.data){\n          currentImgElement.elt.src = giphy.data[0].images.downsized.url;\n          words.push(seed);\n          imgs.push(giphy.data)\n          generateWord(seed, \"synonym\");\n        }else{\n          console.log(\"we failed\");\n        }\n      });\n    });\n    words.push(seed);\n    imgs.push(giphy.data)\n    generateWord(seed, \"synonym\");\n  });\n}\n\nfunction generateGiphyFunction(type){\n  return function(giphy){\n    if(giphy.data.length > 0){\n      nextImgs = giphy.data\n    }else{\n      generateWord(words[words.length - 1], type);\n    }\n  }\n}\n\n\n/*\n\n  TODO:\n\n  - static during loading\n\n\n*/\n\n\nfunction generateWordnikLink(word, type){\n  return \"http://api.wordnik.com:80/v4/word.json/\" + word + \"/relatedWords?useCanonical=false&relationshipTypes=\" + type + \"&limitPerRelationshipType=10&api_key=\" + wordnikKey;\n}\n\nfunction generateWord(word, type){\n  loadJSON(generateWordnikLink(word, type), function(data){\n    if(data[0] && data[0].words && data[0].words.length > 0){\n      nextWord = data[0].words[floor(random(data[0].words.length))];\n    }else{\n      nextWord = words[floor(random(words.length))];\n    }\n    gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + nextWord + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n    // wordnik = generateWordnikLink(nextWord, type);\n    loadJSON(gifUrl, generateGiphyFunction(type));\n  });\n}\n\nfunction mouseReleased(){\n  return false;\n}\n\nfunction touchEnded(){\n  if(winMouseX > 3 * window.innerWidth / 4){\n    imgIndex = 0;\n    currentImgElement.elt.src = nextImgs[0].images.downsized.url;\n    // currentP.elt.innerText = nextWord;\n    currentP.elt.value = nextWord;\n    imgs.push(nextImgs);\n    words.push(nextWord);\n    console.log(words);\n    generateWord(nextWord, \"synonym\");\n  }else if(winMouseX < window.innerWidth / 4){\n    if(words.length > 1){\n      words.pop();\n      imgs.pop();\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n    // currentP.elt.innerText = words[words.length - 1];\n    currentP.elt.value = words[words.length - 1];\n    generateWord(words[words.length - 1], \"synonym\");\n  }else{\n    if(imgIndex < imgs[imgs.length - 1].length - 1){\n      imgIndex++;\n    }else{\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n  }\n  // return false;\n}\n\n\n\nfunction keyPressed(){\n  if(keyCode == RIGHT_ARROW){\n    imgIndex = 0;\n    currentImgElement.elt.src = nextImgs[0].images.downsized.url;\n    // currentP.elt.innerText = nextWord;\n    currentP.elt.value = nextWord;\n    imgs.push(nextImgs);\n    words.push(nextWord);\n    console.log(words);\n    generateWord(nextWord, \"synonym\");\n  }else if(keyCode == LEFT_ARROW){\n    if(words.length > 1){\n      words.pop();\n      imgs.pop();\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n    // currentP.elt.innerText = words[words.length - 1];\n    currentP.elt.value = words[words.length - 1];\n    generateWord(words[words.length - 1], \"synonym\");\n  }else if(keyCode == UP_ARROW){\n    console.log(\"up\");\n  }else if(keyCode == DOWN_ARROW){\n    console.log(\"down\");\n  }else if(keyCode == 32){\n    if(imgIndex < imgs[imgs.length - 1].length - 1){\n      imgIndex++;\n    }else{\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n  }else{\n    console.log(keyCode);\n  }\n  // return false;\n}\n\n// function generateWord(\"synonym\"){\n//   loadJSON(wordUrl, function(data){\n//     var prop = Object.keys(data)[0];\n//     if(data[prop].syn.length > 0){\n//       word = data[prop].syn[floor(random(data[prop].syn.length))];\n//     }else{\n//       word = words[floor(random(words.length))];\n//     }\n//     words.push(word);\n//     console.log(words);\n//     gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + word + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n//     wordUrl = \"http://words.bighugelabs.com/api/2/231b88a8bccc758fd2a4b00e60d1361d/\" + word + \"/json\";\n//     loadJSON(gifUrl, gotData);\n//   });\n// }\n\n// function gotData(giphy){\n//   if(giphy.data.length > 0){\n//     nextImg = giphy.data[0].images.downsized.url\n//   }else{\n//     generateWord(type);\n//   }\n// }\n"]}