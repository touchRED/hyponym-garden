{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.min.js","sourcesContent":["var seed = \"building\";\n\nvar gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\nvar wordnikKey = \"47dccf8be44d27e33e000095fc00800d910779b868e19b1dc\";\n\nvar words = {};\nvar imgs = {};\n\nvar currentImgs = [];\nvar imgIndex = 0;\nvar currentImgElement;\nvar currentP;\n\nvar nextImgs = {};\nvar nextSynonym;\nvar nextHypo;\nvar nextHyper;\n\nvar helping = false;\n\nfunction setup(){\n  noCanvas();\n\n  var help = select(\"#help\");\n  // help.hide();\n  var helpButton = select(\"i\");\n  helpButton.mouseClicked(function(){\n    if(!helping){\n      help.show();\n      helping = true;\n    }else{\n      help.hide();\n      helping = false;\n    }\n  });\n\n  if(window.location.hash.length > 1){\n    seed = window.location.hash.slice(1);\n    gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n  }\n  loadJSON(gifUrl, function(giphy){\n    currentImgElement = createImg(giphy.data[0].images.downsized.url);\n    currentP = createInput(seed);\n    // console.log(currentP);\n    currentP.changed(function(){\n      currentP.elt.blur();\n      seed = currentP.elt.value;\n      console.log(\"seed:\", seed);\n      gifUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + seed + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n      imgs[\"synonym\"] = [];\n      imgs[\"hyponym\"] = [];\n      imgs[\"hypernym\"] = [];\n      words[\"synonym\"] = [];\n      words[\"hyponym\"] = [];\n      words[\"hypernym\"] = [];\n      imgIndex = 0;\n      loadJSON(gifUrl, function(giphy){\n        if(giphy.data){\n          currentImgElement.elt.src = giphy.data[0].images.downsized.url;\n          words[\"synonym\"].push(seed);\n          words[\"hyponym\"].push(seed);\n          words[\"hypernym\"].push(seed);\n          imgs[\"synonym\"].push(giphy.data);\n          imgs[\"hyponym\"].push(giphy.data);\n          imgs[\"hypernym\"].push(giphy.data);\n          currentImgs = giphy.data;\n          generateNextWords(seed);\n        }else{\n          console.log(\"we failed\");\n        }\n      });\n    });\n    imgs[\"synonym\"] = [];\n    imgs[\"hyponym\"] = [];\n    imgs[\"hypernym\"] = [];\n    words[\"synonym\"] = [];\n    words[\"hyponym\"] = [];\n    words[\"hypernym\"] = [];\n    nextImgs[\"synonym\"] = [];\n    nextImgs[\"hyponym\"] = [];\n    nextImgs[\"hypernym\"] = [];\n    words[\"synonym\"].push(seed);\n    words[\"hyponym\"].push(seed);\n    words[\"hypernym\"].push(seed);\n    imgs[\"synonym\"].push(giphy.data);\n    imgs[\"hyponym\"].push(giphy.data);\n    imgs[\"hypernym\"].push(giphy.data);\n    currentImgs = giphy.data;\n    generateNextWords(seed);\n  });\n}\n\nfunction generateGiphyFunction(type){\n  return function(giphy){\n    if(giphy.data.length > 0){\n      nextImgs[type] = giphy.data;\n    }else{\n      generateWord(words[type][words.length - 1], type);\n    }\n  }\n}\n\nfunction generateWordnikLink(word){\n  return \"http://api.wordnik.com:80/v4/word.json/\" + word + \"/relatedWords?useCanonical=false&relationshipTypes=synonym&limitPerRelationshipType=10&api_key=\" + wordnikKey;\n}\n\nfunction generateDataMuseLink(params){\n  var queryLink = \"http://api.datamuse.com/words?\";\n  for(var i = 0; i < params.length; i++){\n    if(i > 0){\n      queryLink += \"&\";\n    }\n    queryLink += params[i];\n  }\n  return queryLink;\n}\n\nfunction generateNextWords(word){\n  generateSynonym(word);\n  generateHyponym(word);\n  generateHypernym(word);\n}\n\nfunction generateWord(word, type){\n  if(type == \"synonym\"){\n    generateSynonym(word);\n  }else if(type == \"hypernym\"){\n    generateHypernym(word);\n  }else if(type == \"hyponym\"){\n    generateHyponym(word);\n  }\n}\n\nfunction generateSynonym(word){\n  loadJSON(generateWordnikLink(word), function(data){\n    if(data[0] && data[0].words && data[0].words.length > 0){\n      nextSynonym = data[0].words[floor(random(data[0].words.length))];\n    }else{\n      nextSynonym = words[\"synonym\"][words[\"synonym\"].length - 1];\n    }\n    var nextUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + nextSynonym + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n    loadJSON(nextUrl, generateGiphyFunction(\"synonym\"));\n  });\n}\n\nfunction generateHyponym(word){\n  loadJSON(generateDataMuseLink([\"rel_gen=\" + word]), function(data){\n    if(data.length > 0){\n      nextHypo = data[floor(random(data.length))].word;\n    }else{\n      nextHypo = words[\"hyponym\"][words[\"hyponym\"].length - 1];\n    }\n    var nextUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + nextHypo + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n    loadJSON(nextUrl, generateGiphyFunction(\"hyponym\"));\n  });\n}\n\nfunction generateHypernym(word){\n  loadJSON(generateDataMuseLink([\"rel_spc=\" + word]), function(data){\n    if(data.length > 0){\n      nextHyper = data[floor(random(data.length))].word;\n    }else{\n      nextHyper = words[\"hypernym\"][words[\"hypernym\"].length - 1];\n    }\n    var nextUrl = \"http://api.giphy.com/v1/gifs/search?q=\" + nextHyper + \"&api_key=8lARF0cgG0lY6ZMfZ6n2GEYcoHvXg4WX\";\n    loadJSON(nextUrl, generateGiphyFunction(\"hypernym\"));\n  });\n}\n\nfunction mouseReleased(){\n  return false;\n}\n\nfunction touchEnded(){\n  if(winMouseX > 3 * window.innerWidth / 4){\n    imgIndex = 0;\n    currentImgElement.elt.src = nextImgs[0].images.downsized.url;\n    // currentP.elt.innerText = nextSynonym;\n    currentP.elt.value = nextSynonym;\n    imgs.push(nextImgs);\n    words.push(nextSynonym);\n    console.log(words);\n    generateSynonym(nextSynonym);\n  }else if(winMouseX < window.innerWidth / 4){\n    if(words.length > 1){\n      words.pop();\n      imgs.pop();\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n    // currentP.elt.innerText = words[words.length - 1];\n    currentP.elt.value = words[words.length - 1];\n    generateSynonym(words[words.length - 1]);\n  }else{\n    if(imgIndex < imgs[imgs.length - 1].length - 1){\n      imgIndex++;\n    }else{\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[imgs.length - 1][imgIndex].images.downsized.url;\n  }\n  // return false;\n}\n\nfunction keyPressed(){\n  if(keyCode == RIGHT_ARROW){\n    imgIndex = 0;\n    currentImgElement.elt.src = nextImgs[\"synonym\"][0].images.downsized.url;\n    currentP.elt.value = nextSynonym;\n    currentImgs = nextImgs[\"synonym\"];\n\n    if(nextSynonym != words[\"synonym\"][words[\"synonym\"].length - 1]){\n      imgs[\"synonym\"].push(nextImgs[\"synonym\"]);\n      imgs[\"hyponym\"] = [nextImgs[\"synonym\"]];\n      imgs[\"hypernym\"] = [nextImgs[\"synonym\"]];\n\n      words[\"synonym\"].push(nextSynonym);\n      words[\"hyponym\"] = [nextSynonym];\n      words[\"hypernym\"] = [nextSynonym];\n    }\n\n    console.log(words[\"synonym\"]);\n    generateNextWords(nextSynonym);\n  }else if(keyCode == LEFT_ARROW){\n    if(words[\"synonym\"].length > 1){\n\n      words[\"synonym\"].pop();\n      words[\"hyponym\"] = [words[\"synonym\"][words[\"synonym\"].length - 1]];\n      words[\"hypernym\"] = [words[\"synonym\"][words[\"synonym\"].length - 1]];\n\n      imgs[\"synonym\"].pop();\n      imgs[\"hyponym\"] = [imgs[\"synonym\"][imgs[\"synonym\"].length - 1]];\n      imgs[\"hypernym\"] = [imgs[\"synonym\"][imgs[\"synonym\"].length - 1]];\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = imgs[\"synonym\"][imgs[\"synonym\"].length - 1][imgIndex].images.downsized.url;\n    currentImgs = imgs[\"synonym\"][imgs[\"synonym\"].length - 1];\n    currentP.elt.value = words[\"synonym\"][words[\"synonym\"].length - 1];\n\n    console.log(words[\"synonym\"]);\n    generateNextWords(words[\"synonym\"][words[\"synonym\"].length - 1]);\n  }else if(keyCode == UP_ARROW){\n    imgIndex = 0;\n    if(imgs[\"hyponym\"].length > 1){\n      words[\"hyponym\"].pop();\n      words[\"synonym\"] = [words[\"hyponym\"][words[\"hyponym\"].length - 1]];\n\n      imgs[\"hyponym\"].pop();\n      imgs[\"synonym\"] = [imgs[\"hyponym\"][imgs[\"hyponym\"].length - 1]];\n\n      currentImgElement.elt.src = imgs[\"hyponym\"][imgs[\"hyponym\"].length - 1][imgIndex].images.downsized.url;\n      currentImgs = imgs[\"hyponym\"][imgs[\"hyponym\"].length - 1];\n      currentP.elt.value = words[\"hyponym\"][words[\"hyponym\"].length - 1];\n\n      console.log(words[\"hyponym\"]);\n      generateNextWords(words[\"hyponym\"][words[\"hyponym\"].length - 1]);\n    }else{\n      currentImgElement.elt.src = nextImgs[\"hypernym\"][0].images.downsized.url;\n      currentP.elt.value = nextHyper;\n      currentImgs = nextImgs[\"hypernym\"];\n\n      if(nextHyper != words[\"hypernym\"][words[\"hypernym\"].length - 1]){\n        imgs[\"hypernym\"].push(nextImgs[\"hypernym\"]);\n        imgs[\"synonym\"] = [imgs[\"hypernym\"][imgs[\"hypernym\"].length - 1]];\n\n        words[\"hypernym\"].push(nextHyper);\n        words[\"synonym\"] = [words[\"hypernym\"][words[\"hypernym\"].length - 1]];\n      }\n\n      console.log(words[\"hypernym\"]);\n      generateNextWords(nextHyper);\n    }\n  }else if(keyCode == DOWN_ARROW){\n    imgIndex = 0;\n    if(imgs[\"hypernym\"].length > 1){\n      words[\"hypernym\"].pop();\n      words[\"synonym\"] = [words[\"hypernym\"][words[\"hypernym\"].length - 1]];\n\n      imgs[\"hypernym\"].pop();\n      imgs[\"synonym\"] = [imgs[\"hypernym\"][imgs[\"hypernym\"].length - 1]];\n\n      currentImgElement.elt.src = imgs[\"hypernym\"][imgs[\"hypernym\"].length - 1][imgIndex].images.downsized.url;\n      currentImgs = imgs[\"hypernym\"][imgs[\"hypernym\"].length - 1];\n      currentP.elt.value = words[\"hypernym\"][words[\"hypernym\"].length - 1];\n\n      console.log(words[\"hypernym\"]);\n      generateNextWords(words[\"hypernym\"][words[\"hypernym\"].length - 1]);\n    }else{\n      currentImgElement.elt.src = nextImgs[\"hyponym\"][0].images.downsized.url;\n      currentP.elt.value = nextHypo;\n      currentImgs = nextImgs[\"hyponym\"];\n\n      if(nextHypo != words[\"hyponym\"][words[\"hyponym\"].length - 1]){\n        imgs[\"hyponym\"].push(nextImgs[\"hyponym\"]);\n        imgs[\"synonym\"] = [imgs[\"hyponym\"][imgs[\"hyponym\"].length - 1]];\n        words[\"hyponym\"].push(nextHypo);\n        words[\"synonym\"] = [words[\"hyponym\"][words[\"hyponym\"].length - 1]];\n      }\n\n      console.log(words[\"hyponym\"]);\n      generateNextWords(nextHypo);\n    }\n  }else if(keyCode == 32){\n    if(imgIndex < currentImgs.length - 1){\n      imgIndex++;\n    }else{\n      imgIndex = 0;\n    }\n    currentImgElement.elt.src = currentImgs[imgIndex].images.downsized.url;\n  }else{\n    console.log(keyCode);\n  }\n  // return false;\n}\n"]}